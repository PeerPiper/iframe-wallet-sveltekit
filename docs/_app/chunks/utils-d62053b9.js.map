{"version":3,"file":"utils-d62053b9.js","sources":["../../../../../src/lib/store/utils.js"],"sourcesContent":["import { writable, derived, get } from 'svelte/store';\r\n\r\n/**\r\nUsage:\r\n\r\n\tconst store = reactive({\r\n\t\ta: 1,\r\n\t\tb: 2,\r\n\t\tc: 3,\r\n\t\td: {\r\n            e: {\r\n                f: 4\r\n            } \r\n        }\r\n\t});\r\n\r\n    $store.set('d.e.f', 4)}\r\n\r\n */\r\nexport function reactive(initial) {\r\n\tconst store = writable(initial);\r\n\tconst set = (key, value) => store.update((m) => Object.assign({}, m, { [key]: value }));\r\n\r\n\tconst callback = (s) => {\r\n\t\treturn {\r\n\t\t\tkeys: Object.keys(s),\r\n\t\t\tvalues: Object.values(s),\r\n\t\t\tentries: Object.entries(s),\r\n\t\t\tset(k, v) {\r\n\t\t\t\tif (k.split('.').length > 1) {\r\n\t\t\t\t\tlet spl = k.split('.');\r\n\t\t\t\t\tk = spl.shift();\r\n\t\t\t\t\tconst reducer = (prev, curr) => ({ [curr]: prev });\r\n\t\t\t\t\tv = spl.reverse().reduce(reducer, v);\r\n\t\t\t\t\tv = { ...s[k], ...v };\r\n\t\t\t\t}\r\n\t\t\t\tstore.update((s) => Object.assign({}, s, { [k]: v }));\r\n\t\t\t},\r\n\t\t\t...s,\r\n\t\t\tremove(k) {\r\n\t\t\t\tstore.update((s) => {\r\n\t\t\t\t\tdelete s[k];\r\n\t\t\t\t\treturn s;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tconst results = derived(store, callback);\r\n\r\n\treturn {\r\n\t\tsubscribe: results.subscribe,\r\n\t\tset: store.set\r\n\t};\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAmBO,kBAAkB,SAAS;AACjC,QAAM,QAAQ,SAAS,OAAO;AAG9B,QAAM,WAAW,CAAC,MAAM;AACvB,WAAO;AAAA,MACN,MAAM,OAAO,KAAK,CAAC;AAAA,MACnB,QAAQ,OAAO,OAAO,CAAC;AAAA,MACvB,SAAS,OAAO,QAAQ,CAAC;AAAA,MACzB,IAAI,GAAG,GAAG;AACT,YAAI,EAAE,MAAM,GAAG,EAAE,SAAS,GAAG;AAC5B,cAAI,MAAM,EAAE,MAAM,GAAG;AACrB,cAAI,IAAI;AACR,gBAAM,UAAU,CAAC,MAAM,SAAU,IAAG,OAAO,KAAI;AAC/C,cAAI,IAAI,QAAO,EAAG,OAAO,SAAS,CAAC;AACnC,cAAI,kCAAK,EAAE,KAAO;AAAA,QAClB;AACD,cAAM,OAAO,CAAC,OAAM,OAAO,OAAO,IAAI,IAAG,GAAG,IAAI,EAAC,CAAE,CAAC;AAAA,MACpD;AAAA,OACE,IAdG;AAAA,MAeN,OAAO,GAAG;AACT,cAAM,OAAO,CAAC,OAAM;AACnB,iBAAO,GAAE;AACT,iBAAO;AAAA,QACZ,CAAK;AAAA,MACD;AAAA,IACJ;AAAA,EACA;AAEC,QAAM,UAAU,QAAQ,OAAO,QAAQ;AAEvC,SAAO;AAAA,IACN,WAAW,QAAQ;AAAA,IACnB,KAAK,MAAM;AAAA,EACb;AACA;;"}